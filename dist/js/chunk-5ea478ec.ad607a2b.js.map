{"version":3,"sources":["webpack:///e:/vue音乐播放器/music-vue/src/api/rank.js","webpack:///e:/vue音乐播放器/music-vue/src/components/rank/rank.vue?9062","webpack:///src/components/rank/rank.vue","webpack:///e:/vue音乐播放器/music-vue/src/components/rank/rank.vue?52f3","webpack:///e:/vue音乐播放器/music-vue/src/components/rank/rank.vue","webpack:///e:/vue音乐播放器/music-vue/src/components/rank/rank.vue?864e"],"names":["__webpack_require__","d","__webpack_exports__","getTopList","getMusicList","_config_js__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_1___default","n","_common_js_jsonp__WEBPACK_IMPORTED_MODULE_2__","url","data","Object","assign","commonParams","-","Date","format","platform","uin","needNewCode","Axios","get","params","then","res","Promise","resolve","topid","page","type","tpl","g_tk","jsonp","options","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","topList","_l","item","key","id","on","click","$event","selectItem","directives","name","rawName","value","expression","width","height","song","idx","_v","_s","songname","singername","length","staticRenderFns","rankvue_type_script_lang_js_","mixins","mixin","created","_getTopList","methods","objectSpread","handlePlaylist","playlist","bottom","$refs","rank","style","toplist","refresh","$router","push","path","concat","setTopList","_this","console","log","code","config","vuex_esm","components","Scroll","scroll_scroll","Loading","loading","rank_rankvue_type_script_lang_js_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_rank_vue_vue_type_style_index_0_id_5993c52e_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_rank_vue_vue_type_style_index_0_id_5993c52e_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-5ea478ec.ad607a2b.js","sourcesContent":["import { commonParams, options } from './config.js'\r\nimport Axios from 'axios';\r\nimport jsonp from '../common/js/jsonp'\r\n\r\nexport function getTopList() {\r\n  const url = '/api/getTopList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    '-': +new Date(),\r\n    format: 'json',\r\n    platform: 'h5',\r\n    uin: 0,\r\n    needNewCode: 1,\r\n  })\r\n\r\n  return Axios.get(url, {\r\n    params: data\r\n  }).then(res => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getMusicList(topid) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    topid,\r\n    page: 'detail',\r\n    type: 'top',\r\n    tpl:3,\r\n    // uin: 0,\r\n    g_tk: 1928093487,\r\n    format: 'json',\r\n    platform: 'h5',\r\n    needNewCode: 1\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('Scroll',{ref:\"toplist\",staticClass:\"toplist\",attrs:{\"data\":_vm.topList}},[_c('ul',_vm._l((_vm.topList),function(item){return _c('li',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"width\":\"100\",\"height\":\"100\"}})]),_c('ul',{staticClass:\"songlist\"},_vm._l((item.songList),function(song,idx){return _c('li',{key:song.id,staticClass:\"song\"},[_c('span',[_vm._v(_vm._s(idx + 1))]),_c('span',[_vm._v(_vm._s(song.songname)+\"-\"+_vm._s(song.singername))])])}),0)])}),0),_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.topList.length),expression:\"!topList.length\"}],staticClass:\"loading-container\"})],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"rank\" ref=\"rank\">\r\n    <Scroll class=\"toplist\" ref=\"toplist\" :data=\"topList\">\r\n      <ul>\r\n        <li class=\"item\" v-for=\"item in topList\" :key=\"item.id\" @click=\"selectItem(item)\">\r\n          <div class=\"icon\">\r\n            <img width=\"100\" height=\"100\" v-lazy=\"item.picUrl\" />\r\n          </div>\r\n          <ul class=\"songlist\">\r\n            <li class=\"song\" v-for=\"(song, idx) in item.songList\" :key=\"song.id\">\r\n              <span>{{idx + 1}}</span>\r\n              <span>{{song.songname}}-{{song.singername}}</span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n      <Loading class=\"loading-container\" v-show=\"!topList.length\"></Loading>\r\n    </Scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getTopList } from '../../api/rank'\r\n  import { ERR_OK } from '../../api/config'\r\n  import Scroll from '../../base/scroll/scroll'\r\n  import Loading from \"../../base/loading/loading\"\r\n  import { playlistMixin } from '../../common/js/mixin'\r\n  import { mapMutations } from 'vuex'\r\n\r\n\r\n  export default {\r\n    mixins: [playlistMixin],\r\n    created() { //组件实例dom渲染之后 请求歌单数据\r\n      this._getTopList()\r\n    },\r\n    data() {\r\n      return {\r\n        topList: []\r\n      }\r\n    },\r\n    methods: {\r\n      handlePlaylist(playlist) {\r\n        const bottom = playlist.length > 0 ? '60px' : ''\r\n        this.$refs.rank.style.bottom = bottom\r\n        this.$refs.toplist.refresh()\r\n      },\r\n      selectItem(item) { //排行歌单路由切换\r\n        this.$router.push({\r\n          path: `/rank/${item.id}`\r\n        })\r\n        this.setTopList(item)\r\n      },\r\n      _getTopList() { //请求歌单数据\r\n        return getTopList().then(res => {\r\n          console.log('run')\r\n          if (res.code === ERR_OK) {\r\n            this.topList = res.data.topList\r\n            console.log(this.topList)\r\n          }\r\n        })\r\n      },\r\n      ...mapMutations({\r\n        setTopList: 'SET_TOPLIST'\r\n      })\r\n    },\r\n    components: {\r\n      Scroll,\r\n      Loading\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  @import \"../../common/stylus/variable\"\r\n  @import \"../../common/stylus/mixin\"\r\n  .rank\r\n    position: fixed\r\n    width: 100%\r\n    top: 88px\r\n    bottom: 0\r\n    .toplist\r\n      height: 100%\r\n      overflow: hidden\r\n      .item\r\n        display: flex\r\n        margin: 0 20px\r\n        padding-top: 20px\r\n        height: 100px\r\n        &:last-child\r\n          padding-bottom: 20px\r\n        .icon\r\n          flex: 0 0 100px\r\n          width: 100px\r\n          height: 100px\r\n          .iconImage\r\n            border-top-left-radius: 8px\r\n            border-bottom-left-radius: 8px\r\n        .songlist\r\n          flex: 1\r\n          display: flex\r\n          flex-direction: column\r\n          justify-content: center\r\n          padding: 0 20px\r\n          height: 100px\r\n          border-top-right-radius: 8px\r\n          border-bottom-right-radius: 8px\r\n          overflow: hidden\r\n          background: $color-highlight-background\r\n          color: $color-text-d\r\n          font-size: $font-size-small\r\n          .song\r\n            line-height: 26px\r\n            display: -webkit-box\r\n            -webkit-line-clamp: 1\r\n            -webkit-box-orient: vertical\r\n            overflow: hidden\r\n      .loading-container\r\n        position: absolute\r\n        width: 100%\r\n        top: 50%\r\n        transform: translateY(-50%)\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rank.vue?vue&type=template&id=5993c52e&scoped=true&\"\nimport script from \"./rank.vue?vue&type=script&lang=js&\"\nexport * from \"./rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rank.vue?vue&type=style&index=0&id=5993c52e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5993c52e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=5993c52e&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=5993c52e&lang=stylus&scoped=true&\""],"sourceRoot":""}