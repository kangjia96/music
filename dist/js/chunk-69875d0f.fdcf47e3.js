(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69875d0f"],{3421:function(t,e,s){},"3e2c":function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"b",function(){return r});s("3b2b"),s("28a5");function i(t,e){if(!n(t,e)){var s=t.className.split(" ");s.push(e),t.className=s.join(" ")}}function n(t,e){var s=new RegExp("(^|\\s)"+e+"(\\s|$)");return s.test(t.className)}function r(t,e,s){var i="data-";return e=i+e,s?t.setAttribute(e,s):t.getAttribute(e)}},"42ba":function(t,e,s){"use strict";s.d(e,"b",function(){return o}),s.d(e,"a",function(){return c}),s.d(e,"c",function(){return l});var i=s("5693"),n=s("da71"),r=s("bc3a"),a=s.n(r);function o(){var t="https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",e=Object.assign({},n["b"],{platfrom:"h5",uin:0,needNewCode:1});return console.log(e),Object(i["a"])(t,e,n["c"])}function c(){var t="/api/getDiscList",e=Object.assign({},n["b"],{platform:"yqq.json",hostUin:0,sin:0,ein:29,sortId:5,format:"json",needNewCode:0,categoryId:1e7,g_tk:1928093487,rnd:Math.random()});return a.a.get(t,{params:e}).then(function(t){return Promise.resolve(t.data)})}function l(t){var e="/api/getMusicDisc",s=Object.assign({},n["b"],{type:1,json:1,utf8:1,onlysong:0,new_format:1,disstid:"".concat(t),g_tk:1186940298,loginUin:1477129230,hostUin:0,format:"json",outCharset:"utf - 8",platform:"yqq.json",needNewCode:0});return a.a.get(e,{params:s}).then(function(t){return Promise.resolve(t.data)})}},"6ec0":function(t,e,s){"use strict";var i=s("3421"),n=s.n(i);n.a},7039:function(t,e,s){},"7c58":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"recommend",staticClass:"recommend"},[s("Scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.discList}},[s("div",[t.recommends.length?s("div",{staticClass:"slider-wrapper"},[s("slider",t._l(t.recommends,function(e){return s("div",{key:e.id},[s("a",{attrs:{href:e.linkUrl}},[s("img",{staticClass:"needsclick",attrs:{src:e.picUrl},on:{load:t.loadImage}})])])}),0)],1):t._e(),s("div",{staticClass:"recommend-list"},[s("h1",{staticClass:"list-title"},[t._v("热门歌单推荐")]),s("ul",t._l(t.discList,function(e,i){return s("li",{key:e.dissid,staticClass:"item",on:{click:function(s){return t.selectItem(e,i)}}},[s("div",{staticClass:"icon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl,expression:"item.imgurl"}],attrs:{width:"60",height:"60"}})]),s("div",{staticClass:"text"},[s("h2",{staticClass:"name",domProps:{innerHTML:t._s(e.creator.name)}}),s("p",{staticClass:"desc",domProps:{innerHTML:t._s(e.dissname)}})])])}),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.discList.length,expression:"!discList.length"}],staticClass:"loading-container"},[s("Loading")],1)]),s("router-view")],1)},n=[],r=s("cebc"),a=s("1cb8"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"slider",staticClass:"slider"},[s("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),s("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return s("span",{key:i,staticClass:"dot",class:{active:t.currentPageIndex==i}})}),0)])},c=[],l=(s("c5f6"),s("1fba")),d=s("3e2c"),u={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},threshold:{type:Number,default:.3},speed:{type:Number,default:400}},mounted:function(){var t=this;setTimeout(function(){t._setSliderWidth(),t._initDots(),t._initSlider(),t.autoPlay&&(console.log("run"),t._play())},20),window.addEventListener("resize",function(){t.slider&&(t._setSliderWidth(!0),t.slider.refresh())})},methods:{_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children,console.log(this.children.length);for(var e=0,s=this.$refs.slider.clientWidth,i=0;i<this.children.length;i++){var n=this.children[i];Object(d["a"])(n,"slider-item"),n.style.width=s+"px",e+=s}this.loop&&!t&&(e+=2*s),this.$refs.sliderGroup.style.width=e+"px"},_initDots:function(){this.dots=new Array(this.children.length),console.log(this.dots)},_initSlider:function(){var t=this;this.slider=new l["a"](this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed}}),this.slider.on("scrollEnd",function(){if(t.loop){var e=t.slider.getCurrentPage().pageX;t.currentPageIndex=e}t.autoPlay&&(clearInterval(t.timer),t._play())})},_play:function(){var t=this;this.timer=setInterval(function(){t.slider.next()},this.interval)}},destroyed:function(){clearInterval(this.timer)}},h=u,f=(s("a868"),s("2877")),m=Object(f["a"])(h,o,c,!1,null,null,null),p=m.exports,g=s("e9fc"),v=s("42ba"),b=s("da71"),_=s("510f"),y=s("2f62"),w={mixins:[_["b"]],data:function(){return{recommends:[],discList:[]}},created:function(){this._getRecommend(),this._getDiscList()},methods:Object(r["a"])({handlePlaylist:function(t){var e=t.length>0?"60px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll.refresh()},selectItem:function(t,e){this.$router.push({path:"/recommend/".concat(t.dissid)}),this.setDisc(t),Object(v["c"])(t.dissid).then(function(t){t.code===b["a"]&&console.log(t.cdlist[0].songlist)})},_getRecommend:function(){var t=this;Object(v["b"])().then(function(e){e.code===b["a"]&&(t.recommends=e.data.slider)})},_getDiscList:function(){var t=this;Object(v["a"])().then(function(e){e.code===b["a"]&&(t.discList=e.data.list)})},loadImage:function(){this.checkloaded||(this.$refs.scroll.refresh(),this.checkloaded=!0)}},Object(y["d"])({setDisc:"SET_DISC"})),components:{Slider:p,Scroll:g["a"],Loading:a["a"]}},C=w,j=(s("6ec0"),Object(f["a"])(C,i,n,!1,null,"c49401ba",null));e["default"]=j.exports},a868:function(t,e,s){"use strict";var i=s("7039"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-69875d0f.fdcf47e3.js.map